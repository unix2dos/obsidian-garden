---
{"aliases":[],"tags":[],"title":"网络笔记","date":"2025-06-28T21:44:01+08:00","date_modify":"2025-06-28T22:24:25+08:00","dg-publish":true,"permalink":"/__Publish__/01_技术/网络笔记/","dgPassFrontmatter":true,"created":"2025-06-28T21:44:01+08:00","updated":"2025-06-28T22:24:25+08:00"}
---


# 1. 基础

## 1.1 网关 (Gateway)

- 一句话解释： 你的家庭网络（局域网）与外面互联网（广域网）之间的 “大门” 或 “门卫” 。
- 在你的家里，这个“大门”通常就是你的 无线路由器 。

## 1.2 网段

### 子网掩码

- 一个网段是由一组 IP 地址组成的。我们怎么知道哪些 IP 地址属于同一个网段呢？这就需要一个重要的工具—— 子网掩码 (Subnet Mask) 。
- 你的电脑 IP 是： 192.168.1.101，子网掩码是： 255.255.255.0
- 这个子网掩码 255.255.255.0 告诉电脑：IP 地址的前三个数字 192.168.1 是“小区名”（网络 ID），最后一个数字 101 是“门牌号”（主机 ID）。
- 所以，任何 IP 地址前三位是 192.168.1 的设备（比如 192.168.1.102 、 192.168.1.50 ），都和你属于同一个网段。你们可以直接通信。
- 但如果另一台电脑的 IP 是 192.168.2.10 ，它的“小区名”就是 192.168.2 ，这跟你就不在同一个网段了。

### 不同网段能互相连接吗？

- **一句话解释：** **可以，但不能直接连接。** 它们需要一个“中间人”来帮忙传话，这个中间人就是 **路由器 (Router)** 。
- 当你的电脑（ 192.168.1.101 ）要发数据给另一台处在不同网段的电脑（ 192.168.2.10 ）时，它会执行以下判断：
- **判断位置：** 电脑用子网掩码一算，发现目标 IP 192.168.2.10 和自己不在同一个网段。
- **寻求帮助：** 电脑不会尝试直接发送，而是把数据包发给自己的 **“默认网关”** (Default Gateway)，这个网关地址通常就是路由器的 IP 地址（比如 192.168.1.1 ）。
- **路由器工作：** 路由器是连接不同网段的桥梁。它同时连接着 192.168.1.x 这个网段和 192.168.2.x 这个网段。它收到数据包后，查看目标地址 192.168.2.10，然后把它从连接着 192.168.2.x 网段的那个“门”转发出去。这个过程就叫做 **路由 (Routing)** 。
- **跨网段通信** ：必须找门卫（网关），让门卫通过马路（路由）送到另一个小区的门卫那里。

### 网段定义

- 192.168.1.1 和 192.168.2.3，如果子网掩码设置的比较大，可以理解为是同一个网段吗？
  
- 在 255.255.255.0 这个子网掩码下，192.168.1.0 和 192.168.2.0 是两条 不同 的街道。所以，192.168.1.1 和 192.168.2.3 不在同一个网段。
  
- 在 255.255.252.0 这个子网掩码下，192.168.1.1 它的“街道地址”是 192.168.0.0 ，192.168.2.3 它的“街道地址”也是 192.168.0.0
  这两个 IP 地址的“街道地址”是完全相同的！所以，它们现在位于同一个网段内，可以互相直接通信！

# 2. LAN, WAN, VLAN

## LAN (Local Area Network) - 局域网

- **一句话解释：** 就是一个独立的 **“小区”** 或一栋 **“办公楼”** 内部的私有网络。
- **生活中的比喻：**
- 你家的所有设备（电脑、手机、智能电视）通过路由器连接在一起，形成的网络就是一个典型的 LAN。同样，你公司一整层楼或一整栋楼的电脑连接在一起，也构成一个 LAN。

## WAN (Wide Area Network) - 广域网

- **一句话解释：** 连接无数个“小区”（LAN）的 **“城市公路系统”** 和 **“国家高速公路”** 。
- **生活中的比喻：**
- 你想从北京的家里（一个 LAN）访问上海的朋友家的电脑（另一个 LAN），或者访问美国的某个网站服务器（又一个 LAN）。你的请求需要通过城市里的电信运营商，跨越省市，甚至跨越国家。这个庞大的、连接所有 LAN 的公共网络就是 WAN。 **互联网 (The Internet) 就是世界上最大的 WAN。**

## VLAN (Virtual Local Area Network) - 虚拟局域网

- **一句话解释：** 在一栋“办公楼”（一个物理 LAN）内部，用“无形的墙”隔出不同的 **“部门工作区”** 。
- **生活中的比喻：**
- 想象一下，一个公司搬进了一栋新的开放式办公楼。楼里所有的网络接口都连接到同一个交换机上（这是一个大的物理 LAN）。
- 但是，公司希望财务部、研发部和市场部的网络是相互隔离的，以保证安全和数据私密性。

# 3. CIDR (Classless Inter-Domain Routing，无类域间路由)

## 3.1 定义

- 前面是网络地址，后面是子网掩码
- 斜线后面的数字，是 **子网掩码的“速记 shorthand”** 。它告诉你，在一个 32 位的 IP 地址中，从左边数，有多少位是“锁定的”网络部分，剩下的才是可以分配给电脑的“主机部分”。
- **数字越大，网络范围越小，能容纳的电脑越少。**
- **数字越小，网络范围越大，能容纳的电脑越多。**

### 深入理解：从 /24 开始

- 我们用最常见的例子 192.168.1.10 /24 来彻底拆解它。
- /24 的意思是什么？意思是 IP 地址的前 24 位是“网络号”，后面的 (32 - 24) = 8 位是“主机号”。
- 所以， /24 就完全等同于 255.255.255.0 。写 /24 只是为了更快、更简洁！

### 这个网络长什么样？

 192.168.1.10 /24 这台电脑，生活在 192.168.1.0 这个网络里，它可以和 192.168.1.1 到 192.168.1.254 之间的任何设备直接通信。
- 网络地址 (街道名): 192.168.1 .0 (主机位全是 0)
- 主机范围 (门牌号): 从 0.1 到 0.254
- 广播地址 (向全街道喊话):192.168.1.255 (主机位全是 1)

### 192.168.1.10 /24 和 192.168.1.11 /24 区别呢

只是 ip 不同，子网掩码相同

### 192.168.1.0/24 和 192.168.1.10/24 区别

- 192.168.1.0/24 是 **整个网络的标识符（网络地址）** ，像是一条街的名字。
- 192.168.1.10/24 是 **网络中一台具体设备（主机）的地址** ，像是这条街上的一个门牌号。
